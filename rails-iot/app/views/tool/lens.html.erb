   <script type="text/javascript">
      
      $(function(){
        Utility.paperSetup($('#myCanvas'));
        zb = new ZoomBar($("#zoom-bar"), 5.0, paper);
        $("#shade").fadeOut("slow");
        tir = new Artwork("/artwork/tir.svg", function(display){
          runScript(display);
        });
      });

     
      function runScript(display){
        var reflectors = display.queryPrefix("REF");
        var lenses = display.queryPrefix("LENS");

        _.each(reflectors, function(el){
          el.reflectance = 0.90;
        });

        _.each(lenses, function(el){
          el.refraction = 0.80;
          el.n = 1.44;
        });

        var pos = display.svg.bounds.bottomCenter.add(new paper.Point(0, -3));
        var ls = new PointLight({
          position: pos, 
          mediums: _.flatten([lenses,reflectors])
        });
      }


    </script>
  </head>
  <body>

    <canvas id="myCanvas"></canvas>
    
      <%= render :partial => "modals"%>
      <%= render :partial => "zoom_bar"%>

    <!-- <canvas id="bufferCanvas"></canvas> -->
  </body>

  <style>
   #zoom-bar{
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      padding: 4px 8px;
      color: #AAA;
      position: absolute;
      z-index: 1000;
      top: 230px;
      left: 100px;
       z-index: -1;
   }
    body, html{
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: #f5f4f0;
    }
    #myCanvas {
      position: absolute;
      top: 0px;
      left: 0;
      width: 100%;
      height: calc(100% - 0px);
      border: solid 1px black;
      /*display: none;*/
      z-index: -100;
      cursor: pointer;
    }

   
  </style>
